<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Step 4: Production-Ready Features | Java Tutorial</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <!-- highlight.js CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Shared Styles -->
    <link rel="stylesheet" href="../shared-styles.css">
</head>
<body>
    <!-- Header Section -->
    <div class="lesson-header">
        <div class="container">
            <div class="lesson-content">
                <div class="lesson-number-badge">4</div>
                <h1 class="lesson-title">Singleton Design Pattern</h1>
                <p class="lesson-description">Master the Singleton design pattern to ensure single instance creation, manage global application state, and implement thread-safe singletons for robust Java applications.</p>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Navigation -->
        <div class="lesson-nav">
            <ul class="nav-breadcrumb">
                <li><a href="../index.html"><i class="bi bi-house"></i> Home</a></li>
                <li><i class="bi bi-chevron-right separator"></i></li>
                <li><span style="color: var(--secondary-color);">Step 4</span></li>
            </ul>
            <div class="nav-actions">
                <a href="step3.html" class="nav-btn nav-btn-outline"><i class="bi bi-arrow-left"></i> Step 3</a>
                <a href="https://github.com/radu-tataru/radu-tataru-qa-java-course-project-v2/tree/master/step4-design-patterns" class="nav-btn nav-btn-secondary" target="_blank"><i class="bi bi-github"></i> View Code</a>
                <a href="step5.html" class="nav-btn nav-btn-primary">Next: Step 5 <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <!-- Learning Objectives -->
        <div class="content-section">
            <h2 class="section-title">
                <div class="section-icon"><i class="bi bi-target"></i></div>
                Learning Objectives
            </h2>
            <div class="objectives-list">
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Singleton Pattern Basics</strong><br>
                        Understand the Singleton pattern and when to use it
                    </div>
                </div>
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Thread-Safe Implementation</strong><br>
                        Create thread-safe Singleton implementations
                    </div>
                </div>
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Logging System</strong><br>
                        Implement a simple Singleton logger that writes to a file
                    </div>
                </div>
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Best Practices</strong><br>
                        Learn Singleton best practices and common pitfalls
                    </div>
                </div>
            </div>
        </div>

        <!-- What We're Building -->
        <div class="content-section">
            <h2 class="section-title">
                <div class="section-icon"><i class="bi bi-lightbulb"></i></div>
                Adding Global Application Services: Why Singleton?
            </h2>
            <p>In this final lesson, we're adding <strong>application-wide logging functionality</strong>. We need a way to track what our application is doing - which links were processed, which ones opened successfully, and when these events occurred.</p>
            
            <div class="alert-box alert-info">
                <i class="bi bi-info-circle alert-icon"></i>
                <div>
                    <strong>Real-World Context:</strong> Every professional application needs logging. Whether it's for debugging, monitoring, or compliance, you need a centralized way to record application events. This is a perfect use case for the Singleton pattern.
                </div>
            </div>

            <h3>The Challenge: Global Services</h3>
            <p>Some application services naturally need to be:</p>
            <ul>
                <li>üìù <strong>Single Instance:</strong> Only one log file, not multiple scattered logs</li>
                <li>üåê <strong>Globally Accessible:</strong> Any part of the app should be able to log events</li>
                <li>üîÑ <strong>Consistent:</strong> Same logging format and destination everywhere</li>
                <li>üíæ <strong>Persistent:</strong> Maintain state (like file handles) throughout app lifetime</li>
            </ul>

            <h3>Why Singleton Makes Perfect Sense Here</h3>
            <p>Unlike forced examples, a Logger genuinely benefits from the Singleton pattern:</p>
            <div class="objectives-list">
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Natural Single Instance</strong><br>
                        Multiple loggers would create chaos - separate files, mixed formats
                    </div>
                </div>
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Global Access Pattern</strong><br>
                        Different classes need to log without dependency injection complexity
                    </div>
                </div>
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Resource Management</strong><br>
                        Single file handle, consistent formatting, coordinated timestamps
                    </div>
                </div>
            </div>
        </div>

        <!-- Naive Implementation -->
        <div class="content-section">
            <h2 class="section-title">
                <div class="section-icon"><i class="bi bi-code-square"></i></div>
                What We Could Do Wrong: Multiple Logger Instances
            </h2>
            
            <div class="alert-box alert-warning">
                <i class="bi bi-exclamation-triangle alert-icon"></i>
                <div>
                    <strong>Learning Note:</strong> Let's first see what happens if we don't use Singleton - creating logger instances wherever we need them. This shows why centralized logging is important.
                </div>
            </div>

            <h3><code class="inline-code">Main.java</code> (Naive Multiple Loggers)</h3>
            <p>Starting with our clean OOP code from Step 3, what if we want to add logging? A beginner might create logger instances everywhere:</p>
            <pre><code class="language-java">package com.example.app;

import java.awt.Desktop;
import java.io.FileWriter;
import java.io.IOException;
import java.net.URI;
import java.net.URISyntaxException;
import java.time.LocalDateTime;
import java.util.List;

public class Main {
    private static final String DATA_DIR = "java_project/data/";

    public static void main(String[] args) {
        // NAIVE: Create a logger just for main method
        SimpleFileLogger mainLogger = new SimpleFileLogger("main_activity.log");
        mainLogger.log("Application started");

        processFile("links.txt", "txt");
        processFile("links.csv", "csv");
        processFile("links.json", "json");

        mainLogger.log("Application finished");
    }

    private static void processFile(String fileName, String fileExtension) {
        // NAIVE: Create another logger for file processing - BAD!
        SimpleFileLogger processLogger = new SimpleFileLogger("file_processing.log");
        processLogger.log("Starting to process " + fileName);
        
        try {
            LinkReader reader = LinkReaderFactory.getReader(fileExtension);
            List<String> links = reader.readLinks(DATA_DIR + fileName);

            for (String link : links) {
                System.out.println("Read Link: " + link);
                
                // NAIVE: Yet another logger for link operations - WORSE!
                SimpleFileLogger linkLogger = new SimpleFileLogger("link_operations.log");
                linkLogger.log("Attempting to open: " + link);
                
                openLink(link, linkLogger);
            }
            
            processLogger.log("Successfully processed " + fileName);
        } catch (IOException | IllegalArgumentException e) {
            processLogger.log("ERROR processing " + fileName + ": " + e.getMessage());
            System.err.println("Error processing " + fileName + ": " + e.getMessage());
        }
    }

    private static void openLink(String url, SimpleFileLogger logger) {
        try {
            if (Desktop.isDesktopSupported() && Desktop.getDesktop().isSupported(Desktop.Action.BROWSE)) {
                Desktop.getDesktop().browse(new URI(url));
                System.out.println("Opened: " + url);
                logger.log("Successfully opened: " + url);
            } else {
                System.out.println("Desktop browsing not supported.");
                logger.log("Desktop not supported for: " + url);
            }
        } catch (IOException | URISyntaxException e) {
            System.err.println("Error opening link " + url + ": " + e.getMessage());
            logger.log("Failed to open " + url + ": " + e.getMessage());
        }
    }
}

// NAIVE: Simple logger class that creates chaos
class SimpleFileLogger {
    private String logFile;
    
    public SimpleFileLogger(String filename) {
        this.logFile = "java_project/data/" + filename;
    }
    
    public void log(String message) {
        try (FileWriter writer = new FileWriter(logFile, true)) {
            String timestamp = LocalDateTime.now().toString();
            writer.write(timestamp + " - " + message + "\n");
        } catch (IOException e) {
            System.err.println("Logging failed for " + logFile + ": " + e.getMessage());
        }
    }
}</code></pre>

            <h3>Disasters from This Approach</h3>
            <ul>
                <li>üìÅ <strong>Multiple Log Files:</strong> main_activity.log, file_processing.log, link_operations.log - chaos!</li>
                <li>üîÑ <strong>Inconsistent Formats:</strong> Different timestamps, different formats</li>
                <li>üíæ <strong>Resource Waste:</strong> Multiple file handles opened unnecessarily</li>
                <li>üîç <strong>Debugging Nightmare:</strong> Events scattered across different files with no correlation</li>
                <li>üèóÔ∏è <strong>No Centralized Control:</strong> Can't easily change logging behavior or format</li>
                <li>üß™ <strong>Testing Problems:</strong> Hard to verify logging behavior across multiple files</li>
                <li>‚ö° <strong>Performance Issues:</strong> Creating new FileWriter instances repeatedly</li>
                <li>üîó <strong>Breaks OOP Benefits:</strong> Logger instances passed around instead of global access</li>
            </ul>

            <p><strong>This is exactly the problem Singleton solves!</strong> We need ONE logger that everyone uses, with consistent behavior and centralized control.</p>
        </div>

        <!-- Project Structure -->
        <div class="content-section">
            <h2 class="section-title">
                <div class="section-icon"><i class="bi bi-diagram-3"></i></div>
                Enhanced Project Structure
            </h2>
            <div class="alert-box alert-info">
                <i class="bi bi-info-circle alert-icon"></i>
                <div>
                    <strong>Singleton Integration:</strong> We'll add a logging system using the Singleton pattern to track all link actions to a file.
                </div>
            </div>
            <div class="file-structure">
                <ul class="file-tree">
                    <li><span class="folder">üìÅ JavaCourse/</span>
                        <ul>
                            <li><span class="folder">üìÅ java_project/</span>
                                <ul>
                                    <li><span class="folder">üìÅ src/</span>
                                        <ul>
                                            <li><span class="folder">üìÅ com/</span>
                                                <ul>
                                                    <li><span class="folder">üìÅ example/</span>
                                                        <ul>
                                                            <li><span class="folder">üìÅ app/</span>
                                                                <ul>
                                                                    <li><span class="java-file">‚òï Main.java (Modified)</span></li>
                                                                    <li><span class="java-file">üîó LinkReader.java</span></li>
                                                                    <li><span class="java-file">‚òï TxtLinkReader.java</span></li>
                                                                    <li><span class="java-file">‚òï CsvLinkReader.java</span></li>
                                                                    <li><span class="java-file">‚òï JsonLinkReader.java</span></li>
                                                                    <li><span class="java-file">üè† LinkReaderFactory.java</span></li>
                                                                    <li><span class="java-file">üìù Logger.java (New - Singleton)</span></li>
                                                                </ul>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><span class="folder">üìÅ data/</span>
                                        <ul>
                                            <li><span class="file">üìÑ links.txt</span></li>
                                            <li><span class="file">üìÑ links.csv</span></li>
                                            <li><span class="file">üìÑ links.json</span></li>
                                            <li><span class="file">üìã activity.log (Generated by Logger)</span></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Singleton Implementation -->
        <div class="content-section">
            <h2 class="section-title">
                <div class="section-icon"><i class="bi bi-code-slash"></i></div>
                Singleton Implementation
            </h2>
            
            <h3><code class="inline-code">Logger.java</code> (New - Singleton)</h3>
            <p>Let's create a simple Singleton logger that writes all link actions to a file:</p>
            <pre><code class="language-java">package com.example.app;

import java.io.FileWriter;
import java.io.IOException;
import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;

public class Logger {
    // The single instance of this class
    private static Logger instance = null;
    
    // File where we write our logs
    private String logFile = "java_project/data/activity.log";
    
    // Private constructor prevents other classes from creating instances
    private Logger() {
        // Create initial log entry
        writeToFile("SYSTEM", "Logger started", "Application beginning");
    }
    
    // This method returns the single instance
    public static Logger getInstance() {
        if (instance == null) {
            instance = new Logger();
        }
        return instance;
    }
    
    // Log when we open a link
    public void logLinkOpened(String link) {
        writeToFile("LINK_OPENED", link, "Successfully opened in browser");
    }
    
    // Log when we fail to open a link
    public void logLinkFailed(String link) {
        writeToFile("LINK_FAILED", link, "Failed to open in browser");
    }
    
    // Write a log entry to the file
    private void writeToFile(String action, String link, String description) {
        try (FileWriter writer = new FileWriter(logFile, true)) {
            String timestamp = LocalDateTime.now().format(DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss"));
            String logEntry = timestamp + " | " + action + " | " + link + " | " + description + "\n";
            writer.write(logEntry);
            System.out.println("Logged: " + action + " for " + link);
        } catch (IOException e) {
            System.err.println("Could not write to log file: " + e.getMessage());
        }
    }
    
    // Show where our log file is located
    public void showLogLocation() {
        System.out.println("\n--- Logger Information (Singleton) ---");
        System.out.println("Log file location: " + logFile);
        System.out.println("Check this file to see all logged actions!");
        System.out.println("------------------------------------");
    }
}</code></pre>


            <h3><code class="inline-code">Main.java</code> (Modified to use Logger Singleton)</h3>
            <p>Update the main class to use the Logger Singleton:</p>
            <pre><code class="language-java">package com.example.app;

import java.awt.Desktop;
import java.io.IOException;
import java.net.URI;
import java.net.URISyntaxException;
import java.util.List;

public class Main {

    private static final String DATA_DIR = "java_project/data/";

    public static void main(String[] args) {
        processFile("links.txt", "txt");
        processFile("links.csv", "csv");
        processFile("links.json", "json");
        
        // Show where our logs are saved using our Singleton
        Logger logger = Logger.getInstance();
        logger.showLogLocation();
        
        // Demonstrate that it's truly a Singleton
        demonstrateSingletonBehavior();
    }

    private static void processFile(String fileName, String fileExtension) {
        System.out.println("\n--- Processing " + fileName + " ---");
        try {
            LinkReader reader = LinkReaderFactory.getReader(fileExtension);
            List<String> links = reader.readLinks(DATA_DIR + fileName);

            for (String link : links) {
                System.out.println("Read Link: " + link);
                openLink(link);
            }
        } catch (IOException | IllegalArgumentException e) {
            System.err.println("Error processing " + fileName + ": " + e.getMessage());
        }
    }

    private static void openLink(String url) {
        Logger logger = Logger.getInstance();
        
        try {
            if (Desktop.isDesktopSupported() && Desktop.getDesktop().isSupported(Desktop.Action.BROWSE)) {
                Desktop.getDesktop().browse(new URI(url));
                System.out.println("Opened: " + url);
                
                // Log successful link opening
                logger.logLinkOpened(url);
            }
        } catch (IOException | URISyntaxException e) {
            System.err.println("Error opening link " + url + ": " + e.getMessage());
            
            // Log failed link opening
            logger.logLinkFailed(url);
        }
    }
    
    // Show that both variables point to the same object
    private static void demonstrateSingletonBehavior() {
        System.out.println("\n--- Singleton Demonstration ---");
        
        Logger logger1 = Logger.getInstance();
        Logger logger2 = Logger.getInstance();
        
        System.out.println("logger1 == logger2: " + (logger1 == logger2));
        System.out.println("Both variables point to the same object!");
        
        System.out.println("This means all parts of our program write to the SAME log file!");
    }
}</code></pre>

            <div class="alert-box alert-warning">
                <i class="bi bi-exclamation-triangle alert-icon"></i>
                <div>
                    <strong>Important:</strong> The <code class="inline-code">org.json</code> library is still required for JSON parsing. Follow the <a href="../index.html#intellij-setup">IntelliJ IDEA Setup Guide</a> for installation.
                </div>
            </div>
        </div>

        <!-- Comparison Section -->
        <div class="content-section">
            <h2 class="section-title">
                <div class="section-icon"><i class="bi bi-arrow-left-right"></i></div>
                Before vs After: The Value of Centralized Services
            </h2>
            
            <div class="alert-box alert-info">
                <i class="bi bi-lightbulb alert-icon"></i>
                <div>
                    <strong>Problem Solved:</strong> Let's compare the chaotic multiple-logger approach with our clean Singleton solution to see how design patterns solve real problems.
                </div>
            </div>

            <h3>‚úÖ What the Singleton Logger Achieved</h3>
            <div class="objectives-list">
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Single Log File</strong><br>
                        One <code>activity.log</code> instead of scattered main.log, process.log, links.log
                    </div>
                </div>
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Consistent Format</strong><br>
                        All entries follow: timestamp | action | link | description
                    </div>
                </div>
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Global Access</strong><br>
                        Any class can easily log events with Logger.getInstance()
                    </div>
                </div>
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Resource Efficiency</strong><br>
                        Single file handle managed properly, no resource waste
                    </div>
                </div>
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Easy Debugging</strong><br>
                        All events in chronological order in one place
                    </div>
                </div>
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Centralized Control</strong><br>
                        Change logging behavior in one place affects entire application
                    </div>
                </div>
            </div>

            <h3>üìä Side-by-Side Impact</h3>
            <div class="row">
                <div class="col-md-6">
                    <h4>‚ùå Multiple Logger Instances</h4>
                    <ul>
                        <li>3+ separate log files</li>
                        <li>Inconsistent timestamp formats</li>
                        <li>Events scattered and hard to correlate</li>
                        <li>Multiple file I/O operations</li>
                        <li>Each method needs logger parameter</li>
                        <li>Debugging requires checking multiple files</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h4>‚úÖ Singleton Logger</h4>
                    <ul>
                        <li>1 centralized log file</li>
                        <li>Consistent format everywhere</li>
                        <li>Chronological event timeline</li>
                        <li>Efficient single file handle</li>
                        <li>Logger.getInstance() anywhere</li>
                        <li>One file tells the whole story</li>
                    </ul>
                </div>
            </div>

            <h3>üéì Learning Complete: From Beginner to Professional</h3>
            <p>Congratulations! You've completed a full journey from basic procedural code to professional software design:</p>
            
            <div class="objectives-list">
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Lesson 1: Make It Work</strong><br>
                        Basic file reading with simple methods
                    </div>
                </div>
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Lesson 2: Add Features</strong><br>
                        Browser integration with better organization
                    </div>
                </div>
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Step 3: Make It Professional</strong><br>
                        Object-oriented design with interfaces and patterns
                    </div>
                </div>
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Lesson 4: Add Global Services</strong><br>
                        Singleton pattern for application-wide functionality
                    </div>
                </div>
            </div>

            <p><strong>This is exactly how real software development works!</strong> You start with working code, then iteratively improve it using design patterns and best practices. You now have the skills to build maintainable, extensible Java applications.</p>
        </div>

        <!-- Running the Singleton Application -->
        <div class="content-section">
            <h2 class="section-title">
                <div class="section-icon"><i class="bi bi-play-circle"></i></div>
                Running the Singleton Application
            </h2>
            <div class="alert-box alert-info">
                <i class="bi bi-info-circle alert-icon"></i>
                <div>
                    Follow the <a href="../index.html#intellij-setup">IntelliJ IDEA Setup Guide</a> for detailed instructions on running the application.
                </div>
            </div>
            <h3>What to Observe</h3>
            <p>When you run the application, you'll see:</p>
            <ul>
                <li>üìù Console messages showing each action being logged</li>
                <li>üìã A new <code>activity.log</code> file created in the data folder</li>
                <li>üîç Demonstration that multiple references point to the same logger object</li>
                <li>‚è∞ Timestamps, actions, and links all recorded in the log file</li>
                <li>‚ú® All parts of the program writing to the same log file</li>
            </ul>
            
            <div class="alert-box alert-info">
                <i class="bi bi-lightbulb alert-icon"></i>
                <div>
                    <strong>Why This Singleton Makes Sense:</strong><br>
                    The logger naturally needs to be a Singleton because:
                    <ul style="margin-top: 10px;">
                        <li>We want ALL parts of our program to write to the SAME log file</li>
                        <li>Having multiple loggers would create multiple files or conflicts</li>
                        <li>Different classes can easily access the same logger instance</li>
                        <li>Perfect real-world example - most applications have one main log</li>
                    </ul>
                </div>
            </div>
            
            <div class="alert-box alert-success">
                <i class="bi bi-trophy alert-icon"></i>
                <div>
                    <strong>Congratulations!</strong><br>
                    You've completed the Java File Reading Tutorial! You now have the skills to build robust, maintainable file processing applications using modern Java design patterns and best practices.
                </div>
            </div>
        </div>

        <!-- Navigation Footer -->
        <div class="lesson-nav">
            <div class="nav-actions footer-nav">
                <a href="step3.html" class="nav-btn nav-btn-outline"><i class="bi bi-arrow-left"></i> Step 3</a>
                <a href="step5.html" class="nav-btn nav-btn-primary">Step 5: Testing <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- highlight.js JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        // Initialize syntax highlighting
        hljs.highlightAll();
        
        // Add scroll progress indicator
        const progressBar = document.createElement('div');
        progressBar.className = 'progress-indicator';
        progressBar.innerHTML = '<div class="progress-bar"></div>';
        document.body.prepend(progressBar);

        window.addEventListener('scroll', () => {
            const scrolled = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
            document.querySelector('.progress-bar').style.width = scrolled + '%';
        });
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>