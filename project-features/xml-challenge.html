<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ XML Extension Challenge | Java Tutorial</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <!-- highlight.js CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Shared Styles -->
    <link rel="stylesheet" href="../shared-styles.css?v=2">

    <style>
        .challenge-option {
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            height: 100%;
        }

        .challenge-option:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .challenge-option.simple {
            border-color: #28a745;
        }

        .challenge-option.advanced {
            border-color: #007bff;
        }

        .challenge-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .challenge-header i {
            font-size: 1.5rem;
        }

        .challenge-option.simple .challenge-header i {
            color: #28a745;
        }

        .challenge-option.advanced .challenge-header i {
            color: #007bff;
        }

        .difficulty-badge {
            background: #f8f9fa;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            margin-left: auto;
        }

        .difficulty-badge.simple {
            background: #d4edda;
            color: #155724;
        }

        .difficulty-badge.advanced {
            background: #cce5ff;
            color: #004085;
        }

        .challenge-content h4 {
            color: #495057;
            margin-bottom: 10px;
        }

        .time-estimate {
            background: #f8f9fa;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.9rem;
            color: #6c757d;
            margin-top: 15px;
            border-left: 4px solid #cd7f32;
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <div class="lesson-header" style="background: linear-gradient(135deg, #cd7f32 0%, #b8651f 100%);">
        <div class="container">
            <div class="lesson-content">
                <div class="lesson-number-badge" style="background: rgba(255,255,255,0.2); color: white; border: 2px solid white;">
                    <i class="bi bi-trophy"></i>
                </div>
                <h1 class="lesson-title">üéØ XML Extension Challenge</h1>
                <p class="lesson-description">Extend your Step 3 Link Reader architecture with XML support using JSoup library. A focused challenge for reinforcing OOP concepts and Factory pattern implementation.</p>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Navigation -->
        <div class="lesson-nav">
            <ul class="nav-breadcrumb">
                <li><a href="../index.html"><i class="bi bi-house"></i> Home</a></li>
                <li><i class="bi bi-chevron-right separator"></i></li>
                <li><span style="color: var(--secondary-color);">XML Challenge</span></li>
            </ul>
            <div class="nav-actions">
                <a href="step3.html" class="nav-btn nav-btn-outline"><i class="bi bi-arrow-left"></i> Step 3</a>
                <a href="https://github.com/radu-tataru/radu-tataru-qa-java-course-project-v2/tree/master/step3-oop-architecture" class="nav-btn nav-btn-secondary" target="_blank"><i class="bi bi-github"></i> Step 3 Code</a>
                <a href="step4.html" class="nav-btn nav-btn-primary">Continue to Step 4 <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>

        <!-- Challenge Overview -->
        <div class="content-section">
            <h2 class="section-title">
                <div class="section-icon"><i class="bi bi-trophy"></i></div>
                Challenge Overview
            </h2>

            <div class="alert-box" style="background: linear-gradient(135deg, #fef7ed 0%, #fed7aa 100%); border-left: 4px solid #cd7f32;">
                <i class="bi bi-target alert-icon" style="color: #cd7f32;"></i>
                <div>
                    <strong style="color: #9a3412;">Your Mission:</strong> <span style="color: #7c2d12;">Extend the existing Step 3 Link Reader system to support XML files with category filtering using the JSoup library, demonstrating understanding of OOP principles and Factory pattern integration.</span>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4">
                    <div class="info-card">
                        <i class="bi bi-clock-history info-icon"></i>
                        <h4>Duration</h4>
                        <p>60 minutes<br><em>Focused team session</em></p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="info-card">
                        <i class="bi bi-people info-icon"></i>
                        <h4>Team Format</h4>
                        <p>Pairs (2 students)<br><em>Collaborative coding</em></p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="info-card">
                        <i class="bi bi-puzzle info-icon"></i>
                        <h4>Difficulty</h4>
                        <p>Beginner+<br><em>Extends Step 3</em></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Challenge Options -->
        <div class="content-section">
            <h2 class="section-title">
                <div class="section-icon"><i class="bi bi-trophy"></i></div>
                Challenge Options
            </h2>

            <div class="row">
                <div class="col-md-6">
                    <div class="challenge-option simple">
                        <div class="challenge-header">
                            <i class="bi bi-play-circle"></i>
                            <h3>Simple Challenge</h3>
                            <span class="difficulty-badge simple">Beginner-Friendly</span>
                        </div>
                        <div class="challenge-content">
                            <h4>Basic XML Reader</h4>
                            <p>Implement XML support that reads <strong>all links</strong> from an XML file, following the same pattern as existing readers.</p>
                            <ul>
                                <li>Create <code>XmlLinkReader</code> class</li>
                                <li>Implement only the interface method</li>
                                <li>Parse XML and extract all URLs</li>
                                <li>Update Factory to support .xml files</li>
                            </ul>
                            <div class="time-estimate">‚è±Ô∏è Estimated time: 30-40 minutes</div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="challenge-option advanced">
                        <div class="challenge-header">
                            <i class="bi bi-gear-wide-connected"></i>
                            <h3>Advanced Challenge</h3>
                            <span class="difficulty-badge advanced">Feature Extension</span>
                        </div>
                        <div class="challenge-content">
                            <h4>XML Reader with Category Filtering</h4>
                            <p>Extend the simple solution with <strong>method overloading</strong> to filter links by category.</p>
                            <ul>
                                <li>Complete the Simple Challenge first</li>
                                <li>Add method overloading for category filtering</li>
                                <li>Overload <code>processFile</code> method in Main</li>
                                <li>Demonstrate both usage patterns</li>
                            </ul>
                            <div class="time-estimate">‚è±Ô∏è Estimated time: 50-60 minutes</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Learning Objectives -->
        <div class="content-section">
            <h2 class="section-title">
                <div class="section-icon"><i class="bi bi-bullseye"></i></div>
                Learning Objectives
            </h2>
            <div class="objectives-list">
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Architecture Extension</strong><br>
                        Understand how to extend existing OOP architecture without breaking changes
                    </div>
                </div>
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Method Overloading (Advanced)</strong><br>
                        Learn to extend functionality through method overloading patterns
                    </div>
                </div>
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Factory Pattern Application</strong><br>
                        Apply Factory pattern knowledge to add new file type support
                    </div>
                </div>
                <div class="objective-item">
                    <i class="bi bi-check-circle objective-icon"></i>
                    <div>
                        <strong>Open/Closed Principle</strong><br>
                        Experience how good design enables extension without modification
                    </div>
                </div>
            </div>
        </div>

        <!-- Prerequisites -->
        <div class="content-section">
            <h2 class="section-title">
                <div class="section-icon"><i class="bi bi-bookmark-check"></i></div>
                Prerequisites
            </h2>

            <div class="alert-box alert-warning">
                <i class="bi bi-exclamation-triangle alert-icon"></i>
                <div>
                    <strong>Required:</strong> Complete <a href="step3.html"><strong>Step 3: Professional Code Architecture</strong></a> first. This challenge extends the Link Reader system from that lesson.
                </div>
            </div>

            <h3>You Should Understand:</h3>
            <div class="row">
                <div class="col-md-6">
                    <div class="prerequisite-item">
                        <i class="bi bi-check-circle text-success"></i>
                        <span class="prerequisite-link">Interface design and implementation</span>
                        <span class="prerequisite-desc">- `LinkReader` interface concept</span>
                    </div>
                    <div class="prerequisite-item">
                        <i class="bi bi-check-circle text-success"></i>
                        <span class="prerequisite-link">Factory pattern basics</span>
                        <span class="prerequisite-desc">- How `LinkReaderFactory` works</span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="prerequisite-item">
                        <i class="bi bi-check-circle text-success"></i>
                        <span class="prerequisite-link">Polymorphism concepts</span>
                        <span class="prerequisite-desc">- Multiple implementations, single interface</span>
                    </div>
                    <div class="prerequisite-item">
                        <i class="bi bi-check-circle text-success"></i>
                        <span class="prerequisite-link">Maven dependency management</span>
                        <span class="prerequisite-desc">- Adding external libraries</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Challenge Details -->
        <div class="content-section">
            <h2 class="section-title">
                <div class="section-icon"><i class="bi bi-list-task"></i></div>
                Challenge Details
            </h2>

            <h3>üìÅ Provided Materials</h3>

            <h4>1. Maven Dependency (Add to your pom.xml)</h4>
            <pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;org.jsoup&lt;/groupId&gt;
    &lt;artifactId&gt;jsoup&lt;/artifactId&gt;
    &lt;version&gt;1.17.2&lt;/version&gt;
&lt;/dependency&gt;</code></pre>

            <h4>2. Sample XML File (data/links.xml)</h4>
            <pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;bookmarks&gt;
    &lt;category name="Development"&gt;
        &lt;link url="https://github.com"&gt;GitHub - Code Repository&lt;/link&gt;
        &lt;link url="https://stackoverflow.com"&gt;Stack Overflow - Q&amp;amp;A&lt;/link&gt;
    &lt;/category&gt;
    &lt;category name="Learning"&gt;
        &lt;link url="https://oracle.com/java"&gt;Oracle Java Documentation&lt;/link&gt;
        &lt;link url="https://junit.org"&gt;JUnit Testing Framework&lt;/link&gt;
    &lt;/category&gt;
    &lt;category name="Tools"&gt;
        &lt;link url="https://maven.apache.org"&gt;Apache Maven&lt;/link&gt;
    &lt;/category&gt;
&lt;/bookmarks&gt;</code></pre>

            <h4>3. JSoup Example Code</h4>
            <div class="alert-box alert-info">
                <i class="bi bi-info-circle alert-icon"></i>
                <div>
                    <strong>Study this example</strong> to understand how JSoup parses XML files:
                </div>
            </div>

            <pre><code class="language-java">import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.select.Elements;
import java.io.File;
import java.io.IOException;
import java.util.List;
import java.util.ArrayList;

public class XmlExample {
    public static List&lt;String&gt; parseXmlByCategory(String category) {
        List&lt;String&gt; links = new ArrayList&lt;&gt;();

        try {
            // Parse the XML file using JSoup
            Document doc = Jsoup.parse(new File("data/links.xml"), "UTF-8", "");

            if ("All".equals(category)) {
                // Get all links from all categories
                Elements linkElements = doc.select("link");
                for (Element link : linkElements) {
                    String url = link.attr("url");        // Get the url attribute
                    String description = link.text();     // Get the text content
                    System.out.println(url + " - " + description);
                    links.add(url);  // Add URL to the list
                }
            } else {
                // Find the specific category
                Elements categories = doc.select("category[name=" + category + "]");

                for (Element categoryElement : categories) {
                    Elements linkElements = categoryElement.select("link");

                    for (Element link : linkElements) {
                        String url = link.attr("url");        // Get the url attribute
                        String description = link.text();     // Get the text content
                        System.out.println(url + " - " + description);
                        links.add(url);  // Add URL to the list
                    }
                }
            }
        } catch (IOException e) {
            System.err.println("Error parsing XML: " + e.getMessage());
        }

        return links;
    }
}</code></pre>
        </div>

        <!-- Simple Challenge Tasks -->
        <div class="content-section">
            <h2 class="section-title">
                <div class="section-icon"><i class="bi bi-play-circle" style="color: #28a745;"></i></div>
                Simple Challenge Tasks
            </h2>

            <div class="task-list">
                <div class="task-item">
                    <div class="task-content">
                        <h4>Study the Existing Architecture</h4>
                        <p>Open your Step 3 project and analyze:</p>
                        <ul>
                            <li>How the <code>LinkReader</code> interface is defined</li>
                            <li>How <code>TxtLinkReader</code>, <code>CsvLinkReader</code>, and <code>JsonLinkReader</code> implement it</li>
                            <li>How <code>LinkReaderFactory</code> decides which reader to create</li>
                            <li>How the <code>Main</code> class uses the Factory pattern</li>
                        </ul>
                    </div>
                </div>

                <div class="task-item">
                    <div class="task-content">
                        <h4>Create Basic XmlLinkReader Class</h4>
                        <p>Implement a new class following the same pattern as existing readers:</p>
                        <ul>
                            <li>Implement the <code>LinkReader</code> interface</li>
                            <li>Use JSoup to parse the XML file</li>
                            <li>Extract <strong>all URLs</strong> from the XML (no category filtering)</li>
                            <li>Return a <code>List&lt;String&gt;</code> of all URLs</li>
                            <li>Handle exceptions properly</li>
                        </ul>
                    </div>
                </div>

                <div class="task-item">
                    <div class="task-content">
                        <h4>Update LinkReaderFactory</h4>
                        <p>Extend the Factory to support XML files:</p>
                        <ul>
                            <li>Add a case for <code>.xml</code> files</li>
                            <li>Return an <code>XmlLinkReader</code> instance</li>
                            <li>Maintain backward compatibility with existing readers</li>
                        </ul>
                    </div>
                </div>

                <div class="task-item">
                    <div class="task-content">
                        <h4>Test Your Implementation</h4>
                        <p>Verify everything works correctly:</p>
                        <ul>
                            <li>Add <code>processFile("links.xml", "xml");</code> to your Main method</li>
                            <li>Run your program and verify all XML links are displayed</li>
                            <li>Ensure existing functionality (TXT, CSV, JSON) still works</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Advanced Challenge Tasks -->
        <div class="content-section">
            <h2 class="section-title">
                <div class="section-icon"><i class="bi bi-gear-wide-connected" style="color: #007bff;"></i></div>
                Advanced Challenge Tasks
            </h2>

            <div class="alert-box alert-warning">
                <i class="bi bi-exclamation-triangle alert-icon"></i>
                <div>
                    <strong>Prerequisites:</strong> Complete the Simple Challenge first before attempting these tasks.
                </div>
            </div>

            <div class="task-list">
                <div class="task-item">
                    <div class="task-content">
                        <h4>Add Method Overloading to XmlLinkReader</h4>
                        <p>Extend your basic implementation with category filtering:</p>
                        <ul>
                            <li>Keep your existing <code>readLinks(String filePath)</code> method</li>
                            <li>Add overloaded method: <code>readLinks(String filePath, String category)</code></li>
                            <li>Filter links by category using JSoup selectors</li>
                            <li>Both methods should have separate, clean implementations</li>
                        </ul>
                    </div>
                </div>

                <div class="task-item">
                    <div class="task-content">
                        <h4>Overload processFile Method in Main</h4>
                        <p>Add method overloading to support category filtering:</p>
                        <ul>
                            <li>Keep your existing <code>processFile(String fileName, String fileExtension)</code></li>
                            <li>Add overloaded method: <code>processFile(String fileName, String fileExtension, String category)</code></li>
                            <li>Use proper interface typing with casting only when needed</li>
                        </ul>
                    </div>
                </div>

                <div class="task-item">
                    <div class="task-content">
                        <h4>Test Both Usage Patterns</h4>
                        <p>Demonstrate both approaches work correctly:</p>
                        <ul>
                            <li>Test <code>processFile("links.xml", "xml")</code> - shows all links</li>
                            <li>Test <code>processFile("links.xml", "xml", "Development")</code> - filtered links</li>
                            <li>Try different categories and verify correct filtering</li>
                            <li>Ensure no breaking changes to existing functionality</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Key Questions -->
        <div class="content-section">
            <h2 class="section-title">
                <div class="section-icon"><i class="bi bi-question-circle"></i></div>
                Key Questions to Answer
            </h2>

            <div class="alert-box" style="background: #f3f4f6; border-left: 4px solid #6b7280;">
                <i class="bi bi-lightbulb alert-icon" style="color: #6b7280;"></i>
                <div>
                    <strong>Demonstrate Understanding:</strong> Be ready to explain these concepts during your demo:
                </div>
            </div>

            <div class="questions-list">
                <div class="question-item">
                    <i class="bi bi-arrow-right question-icon"></i>
                    <span><strong>Where does <code>XmlLinkReader</code> fit in the existing architecture?</strong></span>
                </div>
                <div class="question-item">
                    <i class="bi bi-arrow-right question-icon"></i>
                    <span><strong>What methods must be implemented to satisfy the <code>LinkReader</code> interface?</strong></span>
                </div>
                <div class="question-item">
                    <i class="bi bi-arrow-right question-icon"></i>
                    <span><strong>How does the Factory pattern decide which reader to use?</strong></span>
                </div>
                <div class="question-item">
                    <i class="bi bi-arrow-right question-icon"></i>
                    <span><strong>What changes are needed in <code>LinkReaderFactory</code>?</strong></span>
                </div>
                <div class="question-item">
                    <i class="bi bi-arrow-right question-icon"></i>
                    <span><strong>Why didn't we need to modify the <code>Main</code> class?</strong></span>
                </div>
            </div>
        </div>

        <!-- Expected Implementation -->
        <div class="content-section">
            <h2 class="section-title">
                <div class="section-icon"><i class="bi bi-code-slash"></i></div>
                Implementation Guidance
            </h2>

            <div class="alert-box" style="background: #fef2f2; border-left: 4px solid #ef4444;">
                <i class="bi bi-lock alert-icon" style="color: #ef4444;"></i>
                <div>
                    <strong style="color: #dc2626;">Solution Protected:</strong>
                    <span style="color: #991b1b;">This section contains implementation hints and sample code. Try solving the challenge first!</span>
                    <button onclick="unlockSolution()" class="btn btn-sm btn-outline-danger" style="margin-left: 15px;">
                        <i class="bi bi-unlock"></i> Unlock Solution
                    </button>
                </div>
            </div>

            <div id="implementation-content" style="display: none;">
                <h3>XmlLinkReader Structure with Method Overloading</h3>
                <pre><code class="language-java">public class XmlLinkReader implements LinkReader {

    @Override
    public List&lt;String&gt; readLinks(String filePath) {
        List&lt;String&gt; links = new ArrayList&lt;&gt;();
        try {
            // Parse the XML file using JSoup
            Document doc = Jsoup.parse(new File(filePath), "UTF-8", "");

            // Get all links from all categories
            Elements linkElements = doc.select("link");
            for (Element link : linkElements) {
                String url = link.attr("url");
                if (!url.isEmpty()) {
                    links.add(url);
                }
            }
        } catch (IOException e) {
            System.err.println("Error reading XML file: " + e.getMessage());
        }
        return links;
    }

    // Overloaded method with category parameter
    public List&lt;String&gt; readLinks(String filePath, String category) {
        List&lt;String&gt; links = new ArrayList&lt;&gt;();
        try {
            // Parse the XML file using JSoup
            Document doc = Jsoup.parse(new File(filePath), "UTF-8", "");

            // Find the specific category
            Elements categories = doc.select("category[name=" + category + "]");

            for (Element categoryElement : categories) {
                Elements linkElements = categoryElement.select("link");

                for (Element link : linkElements) {
                    String url = link.attr("url");
                    if (!url.isEmpty()) {
                        links.add(url);
                    }
                }
            }
        } catch (IOException e) {
            System.err.println("Error reading XML file: " + e.getMessage());
        }
        return links;
    }
}</code></pre>

                <h3>Simplified Factory Method</h3>
                <pre><code class="language-java">// No changes needed to the factory - much cleaner!
public static LinkReader getReader(String fileExtension) {
    switch (fileExtension.toLowerCase()) {
        case "txt":
            return new TxtLinkReader();
        case "csv":
            return new CsvLinkReader();
        case "json":
            return new JsonLinkReader();
        case "xml":
            return new XmlLinkReader();  // Just add this case
        default:
            throw new IllegalArgumentException("Unknown file type: " + fileExtension);
    }
}</code></pre>

                <h3>Updated Main Method with processFile Pattern</h3>
                <pre><code class="language-java">public class Main {

    private static final String DATA_DIR = "java_project/data/";

    public static void main(String[] args) {
        // Process existing file types
        processFile("links.txt", "txt");
        processFile("links.csv", "csv");
        processFile("links.json", "json");

        // Process XML with all categories
        processFile("links.xml", "xml");

        // Process XML with specific category
        String targetCategory = "Development";  // Change this to test different categories
        processFile("links.xml", "xml", targetCategory);
    }

    private static void processFile(String fileName, String fileExtension) {
        System.out.println("\n--- Processing " + fileName + " ---");
        try {
            LinkReader reader = LinkReaderFactory.getReader(fileExtension);
            List&lt;String&gt; links = reader.readLinks(DATA_DIR + fileName);

            for (String link : links) {
                System.out.println("Read Link: " + link);
                openLink(link);
            }
        } catch (IOException | IllegalArgumentException e) {
            System.err.println("Error processing " + fileName + ": " + e.getMessage());
        }
    }

    // Overloaded method for XML with category filtering
    private static void processFile(String fileName, String fileExtension, String category) {
        System.out.println("\n--- Processing " + fileName + " (Category: " + category + ") ---");
        try {
            LinkReader reader = LinkReaderFactory.getReader(fileExtension);
            List&lt;String&gt; links = ((XmlLinkReader) reader).readLinks(DATA_DIR + fileName, category);

            for (String link : links) {
                System.out.println("Read Link: " + link);
                openLink(link);
            }
        } catch (IOException | IllegalArgumentException e) {
            System.err.println("Error processing " + fileName + ": " + e.getMessage());
        }
    }

    private static void openLink(String url) {
        // Implementation from Step 3 (Desktop API)
        // ... (same as existing openLink method)
    }
}</code></pre>
            </div>
        </div>

        <!-- Evaluation Criteria -->
        <div class="content-section">
            <h2 class="section-title">
                <div class="section-icon"><i class="bi bi-award"></i></div>
                Evaluation Criteria
            </h2>

            <div class="row">
                <div class="col-md-4">
                    <div class="criteria-card">
                        <h4><i class="bi bi-gear"></i> Technical Implementation (60%)</h4>
                        <ul>
                            <li><strong>Interface Implementation (20 pts):</strong> Correctly implements <code>LinkReader</code></li>
                            <li><strong>JSoup Usage (20 pts):</strong> Proper XML parsing with JSoup</li>
                            <li><strong>Factory Integration (20 pts):</strong> Updates <code>LinkReaderFactory</code> correctly</li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="criteria-card">
                        <h4><i class="bi bi-shield-check"></i> Code Quality (25%)</h4>
                        <ul>
                            <li><strong>Exception Handling (10 pts):</strong> Proper error management</li>
                            <li><strong>Code Style (10 pts):</strong> Follows existing patterns</li>
                            <li><strong>No Breaking Changes (5 pts):</strong> Existing code still works</li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="criteria-card">
                        <h4><i class="bi bi-chat-text"></i> Understanding (15%)</h4>
                        <ul>
                            <li><strong>Architecture Explanation (10 pts):</strong> Can explain design decisions</li>
                            <li><strong>Demo Execution (5 pts):</strong> Successfully demonstrates functionality</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Success Tips -->
        <div class="content-section">
            <h2 class="section-title">
                <div class="section-icon"><i class="bi bi-lightbulb"></i></div>
                Success Tips
            </h2>

            <div class="row">
                <div class="col-md-6">
                    <div class="tip-card tip-do">
                        <h4><i class="bi bi-check-circle-fill"></i> Do</h4>
                        <ul>
                            <li>Start by understanding the existing code structure</li>
                            <li>Follow the same patterns as other readers</li>
                            <li>Test with the provided XML file first</li>
                            <li>Handle exceptions gracefully</li>
                            <li>Ask questions if you're stuck</li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="tip-card tip-dont">
                        <h4><i class="bi bi-x-circle-fill"></i> Don't</h4>
                        <ul>
                            <li>Modify existing classes unnecessarily</li>
                            <li>Skip testing your implementation</li>
                            <li>Ignore exception handling</li>
                            <li>Hardcode file paths or URLs</li>
                            <li>Rush through without understanding</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Session Format -->
        <div class="content-section">
            <h2 class="section-title">
                <div class="section-icon"><i class="bi bi-calendar-event"></i></div>
                Session Format
            </h2>

            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-marker">10 min</div>
                    <div class="timeline-content">
                        <h4>Understanding Phase</h4>
                        <p>Examine existing Step 3 codebase, identify where XML reader fits in architecture, plan implementation approach</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-marker">45 min</div>
                    <div class="timeline-content">
                        <h4>Implementation Phase</h4>
                        <p>Create <code>XmlLinkReader</code> class, update <code>LinkReaderFactory</code>, test with provided XML file</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-marker">5 min</div>
                    <div class="timeline-content">
                        <h4>Demo & Discussion</h4>
                        <p>Show XML links opening in browser, explain design decisions</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation Footer -->
        <div class="lesson-nav">
            <div class="nav-actions footer-nav">
                <a href="step3.html" class="nav-btn nav-btn-outline"><i class="bi bi-arrow-left"></i> Back to Step 3</a>
                <a href="step4.html" class="nav-btn nav-btn-primary">Continue to Step 4 <i class="bi bi-arrow-right"></i></a>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- highlight.js JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>

    <script>
        function unlockSolution() {
            const password = prompt("Enter the instructor password to unlock the solution:");
            if (password === "xml2025") {
                document.getElementById('implementation-content').style.display = 'block';
                document.querySelector('.alert-box').innerHTML =
                    '<i class="bi bi-check-circle alert-icon" style="color: #059669;"></i>' +
                    '<div>' +
                        '<strong style="color: #059669;">Solution Unlocked:</strong> ' +
                        '<span style="color: #047857;">Implementation guidance is now visible below.</span>' +
                    '</div>';
                document.querySelector('.alert-box').style.background = '#f0fdf4';
                document.querySelector('.alert-box').style.borderLeft = '4px solid #10b981';

                // Re-highlight the newly shown code
                hljs.highlightAll();
            } else if (password !== null) {
                alert("Incorrect password. Try again or ask your instructor.");
            }
        }
    </script>
</body>
</html>